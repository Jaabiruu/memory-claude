# @PLAN Mode - Planning & Strategy

**Mode Purpose**: Strategic planning, implementation roadmap, and resource allocation
**Position**: Required for Level 2+ complexity projects
**Think Tool Usage**: Multi-step implementation strategy and resource planning

## Mode Objectives

### Primary Goals
1. **Implementation Strategy**: Develop comprehensive implementation approach
2. **Resource Planning**: Allocate time, effort, and dependencies
3. **Risk Mitigation**: Plan for identified risks and challenges
4. **Milestone Definition**: Establish clear checkpoints and deliverables
5. **Quality Planning**: Define testing and validation approaches

### Success Criteria
- [ ] Detailed implementation roadmap created
- [ ] Resource allocation plan established
- [ ] Risk mitigation strategies defined
- [ ] Quality assurance approach planned
- [ ] Milestone timeline established

## PLAN Mode Instructions

### Phase 1: Strategic Planning
**Use Think Tool for multi-step reasoning:**

1. **Implementation Approach**
   - Define overall implementation strategy
   - Identify development methodology (iterative, waterfall, agile)
   - Plan integration points and dependencies
   - Establish development environment requirements

2. **Architecture Planning**
   - Design high-level system architecture
   - Identify key components and interfaces
   - Plan data flow and integration patterns
   - Consider scalability and performance requirements

3. **Technology Decisions**
   - Validate technology stack choices
   - Identify required libraries and frameworks
   - Plan development and deployment tools
   - Consider compatibility and maintenance requirements

### Phase 2: Resource Allocation
**Plan time, effort, and dependencies:**

1. **Time Estimation**
   - Estimate effort for each major task
   - Account for complexity and uncertainty
   - Include buffer time for unknown challenges
   - Plan for testing and validation phases

2. **Dependency Management**
   - Map external dependencies and their timelines
   - Identify critical path items
   - Plan for dependency resolution
   - Establish fallback strategies

3. **Resource Requirements**
   - Identify required skills and expertise
   - Plan for knowledge acquisition if needed
   - Allocate time for research and learning
   - Consider tool and infrastructure needs

### Phase 3: Risk Planning
**Develop mitigation strategies:**

1. **Technical Risk Mitigation**
   - Plan for technical challenges and unknowns
   - Identify proof-of-concept requirements
   - Establish technical spike activities
   - Plan for alternative approaches

2. **Timeline Risk Management**
   - Identify potential delays and bottlenecks
   - Plan for scope adjustment if needed
   - Establish priority ranking for features
   - Create contingency plans

3. **Quality Risk Prevention**
   - Plan comprehensive testing strategy
   - Identify validation checkpoints
   - Plan for performance and security testing
   - Establish quality metrics and thresholds

### Phase 4: Milestone Planning
**Establish clear checkpoints:**

1. **Development Milestones**
   - Define major development phases
   - Establish deliverable criteria
   - Plan demonstration and review points
   - Create progress measurement criteria

2. **Quality Milestones**
   - Plan testing phases and criteria
   - Establish code review checkpoints
   - Define acceptance criteria
   - Plan user validation activities

3. **Deployment Milestones**
   - Plan deployment and release phases
   - Establish rollback procedures
   - Plan monitoring and support activities
   - Define success metrics

## Required Outputs

### File Updates
1. **tasks.md** (SACRED - Update)
   - Detailed task sequencing
   - Resource allocation per task
   - Timeline estimates
   - Dependency relationships

2. **activeContext.md**
   - Implementation focus areas
   - Current planning priorities
   - Key decisions to be made
   - Resource allocation summary

3. **progress.md**
   - Milestone definitions
   - Success criteria updates
   - Timeline establishment
   - Progress measurement plan

4. **Create planning-decisions.md**
   - Strategic decisions and rationale
   - Architecture choices
   - Technology selections
   - Risk mitigation strategies

### Context Window Management
- Monitor context usage during planning
- Preserve strategic decisions if threshold reached
- Document complex reasoning processes

## Exit Criteria

### Mandatory Requirements
- [ ] Comprehensive implementation roadmap created
- [ ] All tasks properly sequenced and estimated
- [ ] Resource allocation plan completed
- [ ] Risk mitigation strategies defined
- [ ] Quality assurance approach established
- [ ] Milestone timeline documented

### Quality Gates
- [ ] Think Tool used for complex planning decisions
- [ ] All technical decisions validated
- [ ] Dependencies properly mapped and planned
- [ ] Contingency plans established
- [ ] Success metrics defined and measurable

## Next Mode Transition

**Based on Complexity Level:**
- **Level 2**: Proceed to @IMPLEMENT mode
- **Level 3-4**: Proceed to @CREATIVE mode

**Transition Command**: `@CREATIVE` or `@IMPLEMENT` based on complexity

## Context Preservation Notes

### Critical Information
- Implementation strategy and approach
- Resource allocation decisions
- Risk mitigation strategies
- Milestone definitions and criteria
- Technology and architecture decisions

### Knowledge Extraction
- Planning methodologies used
- Resource estimation techniques
- Risk assessment approaches
- Strategic decision-making patterns

---
**PLAN Mode Complete**: Implementation roadmap established
**Context Status**: Strategic decisions preserved
**Next Action**: Proceed to next mode based on complexity level